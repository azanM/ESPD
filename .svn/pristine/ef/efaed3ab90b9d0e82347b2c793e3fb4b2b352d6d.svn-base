<%@ Page Title="" Language="C#" MasterPageFile="~/MasterPage.master" AutoEventWireup="true"
    CodeBehind="frmRequestInput.aspx.cs" Inherits="eSPD.frmRequestInput" %>

<%@ Register Assembly="DevExpress.Web.v11.2, Version=11.2.11.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a"
    Namespace="DevExpress.Web.ASPxCallback" TagPrefix="dx" %>
<%@ Register Assembly="DevExpress.Web.v11.2, Version=11.2.11.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a"
    Namespace="DevExpress.Web.ASPxLoadingPanel" TagPrefix="dx" %>
<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="ajax" %>
<%@ Register Assembly="DevExpress.Web.ASPxEditors.v11.2" Namespace="DevExpress.Web.ASPxEditors"
    TagPrefix="dx" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
    <style type="text/css">
        .style2
        {
            height: 26px;
        }
    </style>
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="server">
    <asp:Panel ID="Panel1" runat="server">
        <table style="width: Auto;" cellspacing="3px" celpadding="1px" border="0" class="mastertable">
            <tr>
                <td colspan="2" class="style3">
                    <strong><font size="4">Permintaan SPD</font></strong>
                </td>
            </tr>
            <tr>
                <td class="style1" colspan="2">
                    <asp:RadioButton ID="rdbHO" runat="server" Text="Kantor Pusat" Checked="True" GroupName="Asal" />
                    <asp:RadioButton ID="rdbCbg" runat="server" Text="Cabang" GroupName="Asal" />
                </td>
            </tr>
            <tr>
                <td class="style17">
                    Nomor SPD
                </td>
                <td>
                    <asp:TextBox ID="txtNoSPD" runat="server" AutoPostBack="True" OnTextChanged="txtNoSPD_TextChanged"
                        ReadOnly="True"></asp:TextBox>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                </td>
            </tr>
            <tr>
                <td class="style9">
                    NRP
                </td>
                <td class="style15" rowspan="2">
                    <asp:UpdatePanel ID="UpdatePanel7" runat="server">
                        <ContentTemplate>
                            <table>
                                <tr>
                                    <td class="style2" colspan="2">
                                        <asp:TextBox ID="txtNrp" runat="server" Enabled="False"></asp:TextBox>
                                        <asp:CheckBox ID="cmbDireksi" runat="server" Text="Direksi" AutoPostBack="true" OnCheckedChanged="cmbDireksi_CheckedChanged" />
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <asp:TextBox ID="txtNamaLengkap" runat="server" Enabled="False" colspan="2" Width="250px"></asp:TextBox>
                                        <%--<asp:DropDownList ID="ddlDireksi" runat="server" DataSourceID="IdsSec" 
                                             DataTextField="namaLengkap" DataValueField="nrp" Width="210px" 
                                            visible="False" onselectedindexchanged="ddlDireksi_SelectedIndexChanged" 
                                            AutoPostBack="True" >
                                        </asp:DropDownList>  --%>
                                        <div style="display: inline;">
                                            <dx:ASPxComboBox ID="ddlDireksi" runat="server" DataSourceID="IdsSec" DropDownStyle="DropDown"
                                                HorizontalAlign="Left" Visible="False" IncrementalFilteringMode="StartsWith"
                                                TextField="namaLengkap" ValueField="nrp" Width="270px" EnableIncrementalFiltering="True"
                                                AutoPostBack="True" OnSelectedIndexChanged="ddlDireksi_SelectedIndexChanged">
                                            </dx:ASPxComboBox>
                                            &nbsp;<asp:Label ID="ValDir" runat="server" ForeColor="#CC0000" Text="*" Visible="false"></asp:Label>
                                            <asp:RequiredFieldValidator ID="ValidateDir" runat="server" Enabled="false" ControlToValidate="ddlDireksi"
                                                ErrorMessage="Harus Diisi" Font-Bold="True" Font-Size="Small" ForeColor="Black"
                                                SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="cmbDireksi" EventName="CheckedChanged" />
                            <asp:AsyncPostBackTrigger ControlID="ddlDireksi" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Nama Lengkap
                </td>
            </tr>
            <tr>
                <td class="style9">
                    <asp:Label ID="lblEmail" runat="server" Text="Email" Visible="False"></asp:Label>
                </td>
                <td width="auto">
                    <asp:TextBox ID="txtEmail" runat="server" Visible="False" Width="250px"></asp:TextBox>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator6" runat="server" ControlToValidate="txtEmail"
                        ErrorMessage="Harus Diisi" Font-Bold="True" Font-Size="Small" SetFocusOnError="True"
                        Visible="False" ValidationGroup="a"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Jabatan
                </td>
                <td class="style13">
                    <asp:TextBox ID="txtJabatan" runat="server" Enabled="False"></asp:TextBox>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Company Code
                </td>
                <td class="style13">
                    <asp:TextBox ID="txtComCode" runat="server" Enabled="False"></asp:TextBox>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Personel Area
                </td>
                <td class="style13">
                    <asp:TextBox ID="txtPA" runat="server" Enabled="False"></asp:TextBox>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Personel Sub Area
                </td>
                <td class="style13">
                    <asp:TextBox ID="txtPsa" runat="server" Enabled="False"></asp:TextBox>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    No. Ponsel
                </td>
                <td align="left">
                    <asp:TextBox ID="txtNoHp" runat="server" Width="206px"></asp:TextBox>
                    <ajax:FilteredTextBoxExtender ID="txtNoHp_FilteredTextBoxExtender" runat="server"
                        Enabled="True" ValidChars="1234567890" FilterType="Custom" TargetControlID="txtNoHp">
                    </ajax:FilteredTextBoxExtender>
                    <asp:Label ID="Label14" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server" ControlToValidate="txtNoHp"
                        ErrorMessage="Harus Diisi" Font-Bold="True" Font-Size="Small" ForeColor="Black"
                        SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Golongan
                </td>
                <td class="style13">
                    <asp:CheckBox ID="chkUbah" runat="server" AutoPostBack="True" OnCheckedChanged="chkUbah_CheckedChanged"
                        Text="Ubah Data" Visible="false" />
                    <asp:UpdatePanel ID="UpdatePanel6" runat="server" RenderMode="Inline">
                        <ContentTemplate>
                            <asp:TextBox ID="txtGolongan" runat="server" Enabled="False" OnTextChanged="txtGolongan_TextChanged"
                                Visible="False" Width="20px">I</asp:TextBox>
                            <asp:DropDownList ID="cmbGolongan" runat="server" Visible="True" OnSelectedIndexChanged="cmbGolongan_SelectedIndexChanged"
                                AutoPostBack="True">
                                <asp:ListItem>I</asp:ListItem>
                                <asp:ListItem>II</asp:ListItem>
                                <asp:ListItem>III</asp:ListItem>
                                <asp:ListItem>IV</asp:ListItem>
                                <asp:ListItem>V</asp:ListItem>
                                <asp:ListItem>VI</asp:ListItem>
                                <asp:ListItem>VII</asp:ListItem>
                            </asp:DropDownList>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="chkUbah" EventName="CheckedChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Plafon
                </td>
                <td class="style2">
                    <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Conditional">
                        <ContentTemplate>
                            <asp:Panel ID="pnlPlafon" runat="server" Visible="true" Width="393px" Height="89px">
                                <table>
                                    <tr>
                                        <td class="style2">
                                            Biaya Makan
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtMakan" runat="server" Enabled="false"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Uang Saku
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtUangSaku" runat="server" Enabled="false"></asp:TextBox>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            Transportasi
                                        </td>
                                        <td>
                                            <asp:TextBox ID="txtTransportasi" runat="server" Enabled="false" Width="291px"></asp:TextBox>
                                        </td>
                                    </tr>
                                </table>
                            </asp:Panel>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="rdDalamNegeri" EventName="CheckedChanged" />
                            <asp:AsyncPostBackTrigger ControlID="rbLuarNegeri" EventName="CheckedChanged" />
                            <asp:AsyncPostBackTrigger ControlID="ddlWilayah" EventName="SelectedIndexChanged" />
                            <asp:AsyncPostBackTrigger ControlID="cmbGolongan" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td class="style9" rowspan="4">
                    Tempat Tujuan
                </td>
                <td class="style13">
                    <asp:RadioButton ID="rdDalamNegeri" runat="server" GroupName="negeri" Text="Dalam Negeri"
                        AutoPostBack="True" OnCheckedChanged="rdDalamNegeri_CheckedChanged" />
                    <asp:RadioButton ID="rbLuarNegeri" runat="server" GroupName="negeri" Text="Luar Negeri"
                        AutoPostBack="True" OnCheckedChanged="rbLuarNegeri_CheckedChanged" />
                </td>
            </tr>
            <tr>
                <td class="style11">
                    <asp:UpdatePanel ID="UpdatePanel5" runat="server">
                        <ContentTemplate>
                            <asp:DropDownList ID="ddlWilayah" runat="server" AutoPostBack="True" DataSourceID="LinqDSLuarNegeri"
                                DataTextField="wilayah" DataValueField="wilayah" Enabled="False" OnSelectedIndexChanged="ddlWilayah_SelectedIndexChanged"
                                Width="230px">
                            </asp:DropDownList>
                            <asp:LinqDataSource ID="LinqDSLuarNegeri" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                                EntityTypeName="" GroupBy="wilayah" Select="new (key as wilayah, it as msGolonganPlafons)"
                                TableName="msGolonganPlafons" Where="jenisSPD == @jenisSPD">
                                <WhereParameters>
                                    <asp:Parameter DefaultValue="Luar Negeri" Name="jenisSPD" Type="String" />
                                </WhereParameters>
                            </asp:LinqDataSource>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="rdDalamNegeri" EventName="CheckedChanged" />
                            <asp:AsyncPostBackTrigger ControlID="rbLuarNegeri" EventName="CheckedChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td>
                    <asp:DropDownList ID="cmbCompanyCode" runat="server" DataSourceID="LinqDSComCode"
                        DataTextField="companyCode" DataValueField="coCd" Height="20px" OnSelectedIndexChanged="cmbCompanyCode_SelectedIndexChanged"
                        Width="185px" AutoPostBack="True" AppendDataBoundItems="true">
                    </asp:DropDownList>
                    <asp:Label ID="L1" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                    <asp:RequiredFieldValidator ID="Validate1" runat="server" ControlToValidate="cmbCompanyCode"
                        ErrorMessage="Harus Diisi" Font-Bold="True" SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                    <asp:UpdatePanel ID="UpdatePanel3" runat="server">
                        <ContentTemplate>
                            <asp:DropDownList ID="cmbTempatTujuan" runat="server" AutoPostBack="True" DataSourceID="LinqDSCabang"
                                DataTextField="leasingRental" DataValueField="kodePA" Height="20px" OnSelectedIndexChanged="cmbTempatTujuan_SelectedIndexChanged"
                                Width="185px" OnTextChanged="cmbTempatTujuan_TextChanged" OnDataBound="cmbTempatTujuan_DataBound">
                            </asp:DropDownList>
                            <asp:Label ID="L2" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                            <asp:RequiredFieldValidator ID="Validate2" runat="server" ControlToValidate="cmbTempatTujuan"
                                ErrorMessage="Harus Diisi" Font-Bold="True" SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                            <asp:HiddenField ID="TujuanHid" runat="server" />
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="cmbCompanyCode" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                    <asp:UpdatePanel ID="UpdatePanel2" runat="server">
                        <ContentTemplate>
                            <asp:DropDownList ID="cmbSubArea" runat="server" DataSourceID="LinqDSSubCabang" DataTextField="pSubArea"
                                DataValueField="kodePSubArea" Height="20px" Width="185px" OnDataBound="cmbSubArea_DataBound"
                                AutoPostBack="True" OnSelectedIndexChanged="cmbSubArea_SelectedIndexChanged"
                                OnTextChanged="cmbSubArea_TextChanged">
                            </asp:DropDownList>
                            <asp:Label ID="L4" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                            <asp:RequiredFieldValidator ID="Validate4" runat="server" ControlToValidate="cmbSubArea"
                                ErrorMessage="Harus Diisi" Font-Bold="True" SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                            <asp:HiddenField ID="SaHid" runat="server" />
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="cmbTempatTujuan" EventName="SelectedIndexChanged" />
                            <asp:AsyncPostBackTrigger ControlID="cmbCompanyCode" EventName="SelectedIndexChanged" />
                            <asp:AsyncPostBackTrigger ControlID="cmbTempatTujuan" EventName="TextChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                    <asp:LinqDataSource ID="LinqDSComCode" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" GroupBy="coCd" OrderGroupsBy="key" Select="new (key as coCd, it as msKaryawans, Min(companyCode) as companyCode)"
                        TableName="msKaryawans">
                    </asp:LinqDataSource>
                    <asp:LinqDataSource ID="LinqDSCabang" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" GroupBy="kodePA" OrderGroupsBy="key" Select="new (key as kodePA, it as v_karyawanTrac, Min(leasingRental) as leasingRental)"
                        TableName="v_karyawanTrac" Where="coCd == @coCd" OnSelecting="LinqDSCabang_Selecting">
                        <WhereParameters>
                            <asp:ControlParameter ControlID="cmbCompanyCode" Name="coCd" PropertyName="SelectedValue"
                                Type="String" />
                        </WhereParameters>
                    </asp:LinqDataSource>
                    <asp:LinqDataSource ID="LinqDSSubCabang" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" GroupBy="kodePSubArea" OrderGroupsBy="key" Select="new (key as kodePSubArea, it as v_karyawanTracs, Max(pSubArea) as pSubArea)"
                        TableName="v_karyawanTracs" Where="kodePA == @kodePA" OnSelecting="LinqDSSubCabang_Selecting">
                        <WhereParameters>
                            <asp:ControlParameter ControlID="cmbTempatTujuan" Name="kodePA" PropertyName="SelectedValue"
                                Type="String" />
                        </WhereParameters>
                    </asp:LinqDataSource>
                </td>
            </tr>
            <tr>
                <td class="style13">
                    <asp:UpdatePanel ID="UpdatePanel9" runat="server">
                        <ContentTemplate>
                            <asp:Label runat="server" ID="lblTmpLain" Text="Lain-lain" Visible="false" />
                            <asp:TextBox ID="txtTempatTujuanLain" runat="server" Visible="false" AutoPostBack="true"></asp:TextBox>
                            <asp:Label ID="L5" runat="server" ForeColor="#CC0000" Text="*" Visible="false"></asp:Label>
                            <asp:RequiredFieldValidator ID="Validate5" runat="server" ControlToValidate="txtTempatTujuanLain"
                                ErrorMessage="Harus diisi" Font-Bold="True" Font-Size="Small" SetFocusOnError="True"
                                ValidationGroup="a"></asp:RequiredFieldValidator>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="cmbCompanyCode" EventName="SelectedIndexChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td>
                    Atasan
                </td>
                <td align="left" width="400">
                    <table width="400">
                        <tr>
                            <td width="270">
                                <dx:ASPxComboBox ID="cmbxAtasan" runat="server" DataSourceID="ldAppAtasan" DropDownStyle="DropDown"
                                    HorizontalAlign="Left" IncrementalFilteringMode="StartsWith" TextField="namaLengkap"
                                    ValueField="nrp" Width="270px" EnableIncrementalFiltering="True" OnDataBound="cmbxAtasan_DataBound">
                                </dx:ASPxComboBox>
                            </td>
                            <td width="120" align="left">
                                <asp:Label ID="Label5" runat="server" ForeColor="#CC0000" Text="*"></asp:Label><asp:RequiredFieldValidator
                                    ID="RequiredFieldValidator10" runat="server" ControlToValidate="cmbxAtasan" ErrorMessage="Harus Diisi"
                                    Font-Bold="True" Font-Size="Small" SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    <asp:Label ID="Label3" runat="server" Text="Approval Tujuan" Width="162px"></asp:Label>
                </td>
                <td align="left" width="400">
                    <asp:UpdatePanel ID="UpdatePanel8" runat="server">
                        <ContentTemplate>
                            <table width="400">
                                <tr>
                                    <td width="270">
                                        <dx:ASPxComboBox ID="cmbxTujuan" runat="server" DropDownStyle="DropDown" IncrementalFilteringMode="StartsWith"
                                            DataSourceID="ldAppTujuan" TextField="namaLengkap" ValueField="nrp" Width="270px"
                                            HorizontalAlign="Left" EnableIncrementalFiltering="True">
                                        </dx:ASPxComboBox>
                                    </td>
                                    <td width="120" align="left">
                                        <asp:Label ID="Label10" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                                        <asp:RequiredFieldValidator ID="RequiredFieldValidator11" runat="server" ControlToValidate="cmbxTujuan"
                                            ErrorMessage=" Harus Diisi" Font-Bold="True" Font-Size="Small" SetFocusOnError="True"
                                            ValidationGroup="a"></asp:RequiredFieldValidator>
                                    </td>
                                </tr>
                            </table>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="cmbTempatTujuan" EventName="SelectedIndexChanged" />
                            <asp:AsyncPostBackTrigger ControlID="cmbCompanyCode" EventName="SelectedIndexChanged" />
                            <asp:AsyncPostBackTrigger ControlID="cmbSubArea" EventName="SelectedIndexChanged" />
                            <asp:AsyncPostBackTrigger ControlID="cmbTempatTujuan" EventName="TextChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                    <asp:LinqDataSource ID="LinqDSNRPTujuan" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" OnSelecting="LinqDSNRPTujuan_Selecting" OrderBy="namaLengkap"
                        Select="new (nrp, namaLengkap)" TableName="msKaryawans">
                    </asp:LinqDataSource>
                    <asp:LinqDataSource ID="ldsUser" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" OnSelecting="ldsUser_Selecting1" OrderBy="namaLengkap" Select="new (nrp, namaLengkap)"
                        TableName="msKaryawans">
                    </asp:LinqDataSource>
                    <asp:LinqDataSource ID="ldAppAtasan" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" OnSelecting="ldAppAtasan_Selecting1" OrderBy="namaLengkap"
                        Select="new (nrp, namaLengkap)" TableName="v_atasans">
                    </asp:LinqDataSource>
                    <asp:LinqDataSource ID="ldAppTujuan" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" OnSelecting="ldAppTujuan_Selecting1" OrderBy="namaLengkap"
                        Select="new (nrp, namaLengkap)" TableName="v_atasans">
                    </asp:LinqDataSource>
                    <%--<asp:LinqDataSource ID="ldAppTujuan" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" OnSelecting="ldAppTujuan_Selecting1" OrderBy="namaLengkap"
                        Select="new (nrp, namaLengkap)" TableName="v_atasans" Where="kodePSubArea == @kodePSubArea">
                        <WhereParameters>
                            <asp:ControlParameter Name="kodePSubArea" DefaultValue="0" ControlID="cmbSubArea"
                                Type="String" />
                        </WhereParameters>
                    </asp:LinqDataSource>--%>
                    <%--<asp:LinqDataSource ID="ldAppTujuan" runat="server" 
                         >                  --%>
                    <%--<asp:LinqDataSource 
                            ContextTypeName="eSPD.dsSPDDataContext" 
                            TableName="msKaryawans" 
                            Where="kodePSubArea == @kodePSubArea"
                            ID="ldAppTujuan" 
                            runat="server">
                          <WhereParameters>
                            <asp:ControlParameter 
                              Name="kodePSubArea" 
                              DefaultValue="0" 
                              ControlID="cmbSubArea" 
                              Type="String" />
                          </WhereParameters>
                        </asp:LinqDataSource>   --%>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Keperluan / Tugas
                </td>
                <td class="style13">
                    <asp:DropDownList ID="cmbKeperluan" runat="server" DataSourceID="LinqDSKeperluan"
                        DataTextField="keperluan" DataValueField="id" OnSelectedIndexChanged="cmbKeperluan_SelectedIndexChanged"
                        AutoPostBack="True">
                    </asp:DropDownList>
                    <asp:Label ID="Label9" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                    &nbsp;&nbsp;<asp:LinqDataSource ID="LinqDSKeperluan" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" Select="new (id, keperluan)" TableName="msKeperluans">
                    </asp:LinqDataSource>
                    <asp:LinqDataSource ID="IdsSec" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" OnSelecting="IdsSec_Selecting" OrderBy="namaLengkap" Select="new (nrp, namaLengkap)"
                        TableName="msKaryawans">
                    </asp:LinqDataSource>
                </td>
            </tr>
            <tr>
                <td>
                    Keterangan Keperluan
                </td>
                <td>
                    <asp:TextBox ID="txtKetKeperluan" runat="server"></asp:TextBox>
                    <asp:Label ID="L12" runat="server" ForeColor="#CC0000" Text="*" Visible="False"></asp:Label>
                    <asp:RequiredFieldValidator ID="Validate12" runat="server" ControlToValidate="txtKetKeperluan"
                        ErrorMessage="Harus Diisi" Font-Bold="True" Font-Size="Small" ValidationGroup="a"
                        Enabled="False"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Tiket
                </td>
                <td class="style13">
                    <asp:RadioButton ID="rbDicarikan" runat="server" Checked="True" Text="Dicarikan"
                        GroupName="Tiket" />
                    <br />
                    <asp:RadioButton ID="rbSendiri" runat="server" Text="Sendiri" GroupName="Tiket" />
                </td>
            </tr>
            <tr>
                <td>
                    Tanggal Berangkat
                </td>
                <td>
                    <asp:TextBox ID="txtTglBerangkat" runat="server" OnTextChanged="txtTglBerangkat_TextChanged"
                        AutoPostBack="True"></asp:TextBox>
                    <ajax:CalendarExtender ID="txtTglBerangkat_CalendarExtender" runat="server" TargetControlID="txtTglBerangkat">
                    </ajax:CalendarExtender>
                    <asp:Label ID="Label1" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator1" runat="server" ControlToValidate="txtTglBerangkat"
                        ErrorMessage="Harus Diisi" ValidationGroup="a" Font-Bold="True" Font-Size="Small"
                        SetFocusOnError="True"></asp:RequiredFieldValidator>
                    &nbsp; Jam
                    <asp:DropDownList ID="cmbJamBerangkat0" runat="server">
                        <asp:ListItem>01</asp:ListItem>
                        <asp:ListItem>02</asp:ListItem>
                        <asp:ListItem>03</asp:ListItem>
                        <asp:ListItem>04</asp:ListItem>
                        <asp:ListItem>05</asp:ListItem>
                        <asp:ListItem>06</asp:ListItem>
                        <asp:ListItem>07</asp:ListItem>
                        <asp:ListItem>08</asp:ListItem>
                        <asp:ListItem>09</asp:ListItem>
                        <asp:ListItem>10</asp:ListItem>
                        <asp:ListItem>11</asp:ListItem>
                        <asp:ListItem>12</asp:ListItem>
                        <asp:ListItem>13</asp:ListItem>
                        <asp:ListItem>14</asp:ListItem>
                        <asp:ListItem>15</asp:ListItem>
                        <asp:ListItem>16</asp:ListItem>
                        <asp:ListItem>17</asp:ListItem>
                        <asp:ListItem>18</asp:ListItem>
                        <asp:ListItem>19</asp:ListItem>
                        <asp:ListItem>20</asp:ListItem>
                        <asp:ListItem>21</asp:ListItem>
                        <asp:ListItem>22</asp:ListItem>
                        <asp:ListItem>23</asp:ListItem>
                        <asp:ListItem>24</asp:ListItem>
                    </asp:DropDownList>
                    &nbsp;Menit
                    <asp:DropDownList ID="cmbMenitBerangkat0" runat="server">
                        <asp:ListItem>00</asp:ListItem>
                        <asp:ListItem>01</asp:ListItem>
                        <asp:ListItem>02</asp:ListItem>
                        <asp:ListItem>03</asp:ListItem>
                        <asp:ListItem>04</asp:ListItem>
                        <asp:ListItem>05</asp:ListItem>
                        <asp:ListItem>06</asp:ListItem>
                        <asp:ListItem>07</asp:ListItem>
                        <asp:ListItem>08</asp:ListItem>
                        <asp:ListItem>09</asp:ListItem>
                        <asp:ListItem>10</asp:ListItem>
                        <asp:ListItem>11</asp:ListItem>
                        <asp:ListItem>12</asp:ListItem>
                        <asp:ListItem>13</asp:ListItem>
                        <asp:ListItem>14</asp:ListItem>
                        <asp:ListItem>15</asp:ListItem>
                        <asp:ListItem>16</asp:ListItem>
                        <asp:ListItem>17</asp:ListItem>
                        <asp:ListItem>18</asp:ListItem>
                        <asp:ListItem>19</asp:ListItem>
                        <asp:ListItem>20</asp:ListItem>
                        <asp:ListItem>21</asp:ListItem>
                        <asp:ListItem>22</asp:ListItem>
                        <asp:ListItem>23</asp:ListItem>
                        <asp:ListItem>24</asp:ListItem>
                        <asp:ListItem>25</asp:ListItem>
                        <asp:ListItem>26</asp:ListItem>
                        <asp:ListItem>27</asp:ListItem>
                        <asp:ListItem>28</asp:ListItem>
                        <asp:ListItem>29</asp:ListItem>
                        <asp:ListItem>30</asp:ListItem>
                        <asp:ListItem>31</asp:ListItem>
                        <asp:ListItem>32</asp:ListItem>
                        <asp:ListItem>33</asp:ListItem>
                        <asp:ListItem>34</asp:ListItem>
                        <asp:ListItem>35</asp:ListItem>
                        <asp:ListItem>36</asp:ListItem>
                        <asp:ListItem>37</asp:ListItem>
                        <asp:ListItem>38</asp:ListItem>
                        <asp:ListItem>39</asp:ListItem>
                        <asp:ListItem>40</asp:ListItem>
                        <asp:ListItem>41</asp:ListItem>
                        <asp:ListItem>42</asp:ListItem>
                        <asp:ListItem>43</asp:ListItem>
                        <asp:ListItem>44</asp:ListItem>
                        <asp:ListItem>45</asp:ListItem>
                        <asp:ListItem>46</asp:ListItem>
                        <asp:ListItem>47</asp:ListItem>
                        <asp:ListItem>48</asp:ListItem>
                        <asp:ListItem>49</asp:ListItem>
                        <asp:ListItem>50</asp:ListItem>
                        <asp:ListItem>51</asp:ListItem>
                        <asp:ListItem>52</asp:ListItem>
                        <asp:ListItem>53</asp:ListItem>
                        <asp:ListItem>54</asp:ListItem>
                        <asp:ListItem>55</asp:ListItem>
                        <asp:ListItem>56</asp:ListItem>
                        <asp:ListItem>57</asp:ListItem>
                        <asp:ListItem>58</asp:ListItem>
                        <asp:ListItem>59</asp:ListItem>
                    </asp:DropDownList>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    <asp:Label ID="Label4" runat="server" Text="Tanggal Kembali" Width="162px"></asp:Label>
                </td>
                <td>
                    <asp:TextBox ID="txtTglKembali" runat="server" AutoPostBack="True" OnTextChanged="txtTglKembali_TextChanged"></asp:TextBox>
                    <ajax:CalendarExtender ID="txtTglKembali_CalendarExtender" runat="server" TargetControlID="txtTglKembali">
                    </ajax:CalendarExtender>
                    <asp:Label ID="Label2" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                    <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server" ControlToValidate="txtTglKembali"
                        ErrorMessage="Harus Diisi" Font-Bold="True" Font-Size="Small" SetFocusOnError="True"
                        ValidationGroup="a"></asp:RequiredFieldValidator>
                    &nbsp; Jam
                    <asp:DropDownList ID="cmbJamKembali" runat="server">
                        <asp:ListItem>01</asp:ListItem>
                        <asp:ListItem>02</asp:ListItem>
                        <asp:ListItem>03</asp:ListItem>
                        <asp:ListItem>04</asp:ListItem>
                        <asp:ListItem>05</asp:ListItem>
                        <asp:ListItem>06</asp:ListItem>
                        <asp:ListItem>07</asp:ListItem>
                        <asp:ListItem>08</asp:ListItem>
                        <asp:ListItem>09</asp:ListItem>
                        <asp:ListItem>10</asp:ListItem>
                        <asp:ListItem>11</asp:ListItem>
                        <asp:ListItem>12</asp:ListItem>
                        <asp:ListItem>13</asp:ListItem>
                        <asp:ListItem>14</asp:ListItem>
                        <asp:ListItem>15</asp:ListItem>
                        <asp:ListItem>16</asp:ListItem>
                        <asp:ListItem>17</asp:ListItem>
                        <asp:ListItem>18</asp:ListItem>
                        <asp:ListItem>19</asp:ListItem>
                        <asp:ListItem>20</asp:ListItem>
                        <asp:ListItem>21</asp:ListItem>
                        <asp:ListItem>22</asp:ListItem>
                        <asp:ListItem>23</asp:ListItem>
                        <asp:ListItem>24</asp:ListItem>
                    </asp:DropDownList>
                    &nbsp;Menit
                    <asp:DropDownList ID="cmbMenitKembali" runat="server">
                        <asp:ListItem>00</asp:ListItem>
                        <asp:ListItem>01</asp:ListItem>
                        <asp:ListItem>02</asp:ListItem>
                        <asp:ListItem>03</asp:ListItem>
                        <asp:ListItem>04</asp:ListItem>
                        <asp:ListItem>05</asp:ListItem>
                        <asp:ListItem>06</asp:ListItem>
                        <asp:ListItem>07</asp:ListItem>
                        <asp:ListItem>08</asp:ListItem>
                        <asp:ListItem>09</asp:ListItem>
                        <asp:ListItem>10</asp:ListItem>
                        <asp:ListItem>11</asp:ListItem>
                        <asp:ListItem>12</asp:ListItem>
                        <asp:ListItem>13</asp:ListItem>
                        <asp:ListItem>14</asp:ListItem>
                        <asp:ListItem>15</asp:ListItem>
                        <asp:ListItem>16</asp:ListItem>
                        <asp:ListItem>17</asp:ListItem>
                        <asp:ListItem>18</asp:ListItem>
                        <asp:ListItem>19</asp:ListItem>
                        <asp:ListItem>20</asp:ListItem>
                        <asp:ListItem>21</asp:ListItem>
                        <asp:ListItem>22</asp:ListItem>
                        <asp:ListItem>23</asp:ListItem>
                        <asp:ListItem>24</asp:ListItem>
                        <asp:ListItem>25</asp:ListItem>
                        <asp:ListItem>26</asp:ListItem>
                        <asp:ListItem>27</asp:ListItem>
                        <asp:ListItem>28</asp:ListItem>
                        <asp:ListItem>29</asp:ListItem>
                        <asp:ListItem>30</asp:ListItem>
                        <asp:ListItem>31</asp:ListItem>
                        <asp:ListItem>32</asp:ListItem>
                        <asp:ListItem>33</asp:ListItem>
                        <asp:ListItem>34</asp:ListItem>
                        <asp:ListItem>35</asp:ListItem>
                        <asp:ListItem>36</asp:ListItem>
                        <asp:ListItem>37</asp:ListItem>
                        <asp:ListItem>38</asp:ListItem>
                        <asp:ListItem>39</asp:ListItem>
                        <asp:ListItem>40</asp:ListItem>
                        <asp:ListItem>41</asp:ListItem>
                        <asp:ListItem>42</asp:ListItem>
                        <asp:ListItem>43</asp:ListItem>
                        <asp:ListItem>44</asp:ListItem>
                        <asp:ListItem>45</asp:ListItem>
                        <asp:ListItem>46</asp:ListItem>
                        <asp:ListItem>47</asp:ListItem>
                        <asp:ListItem>48</asp:ListItem>
                        <asp:ListItem>49</asp:ListItem>
                        <asp:ListItem>50</asp:ListItem>
                        <asp:ListItem>51</asp:ListItem>
                        <asp:ListItem>52</asp:ListItem>
                        <asp:ListItem>53</asp:ListItem>
                        <asp:ListItem>54</asp:ListItem>
                        <asp:ListItem>55</asp:ListItem>
                        <asp:ListItem>56</asp:ListItem>
                        <asp:ListItem>57</asp:ListItem>
                        <asp:ListItem>58</asp:ListItem>
                        <asp:ListItem>59</asp:ListItem>
                    </asp:DropDownList>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Angkutan
                </td>
                <td class="style13">
                    <asp:DropDownList ID="cmbAngkutan" runat="server" DataSourceID="LinqDSAngkutan" DataTextField="nama"
                        DataValueField="id" AutoPostBack="True" OnSelectedIndexChanged="cmbAngkutan_SelectedIndexChanged">
                    </asp:DropDownList>
                    <asp:LinqDataSource ID="LinqDSAngkutan" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" Select="new (id, nama)" TableName="msAngkutans">
                    </asp:LinqDataSource>
                    <br />
                    Lain-lain&nbsp;<asp:TextBox ID="txtAngkutanLain" runat="server"></asp:TextBox>
                    <asp:Label ID="ValLain" runat="server" Visible="false" ForeColor="#CC0000" Text="*"></asp:Label>
                    <asp:RequiredFieldValidator ID="ValidateLain" runat="server" ControlToValidate="txtAngkutanLain"
                        ErrorMessage="Harus Diisi" Font-Bold="True" Enabled="false" Font-Size="Small"
                        SetFocusOnError="True" ValidationGroup="a"></asp:RequiredFieldValidator>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Penginapan
                </td>
                <td class="style13">
                    <asp:RadioButton ID="rbDisediakan" runat="server" Checked="True" Text="Disediakan"
                        OnCheckedChanged="rbDisediakan_CheckedChanged" GroupName="Penginapan" />
                    <br />
                </td>
            </tr>
            <tr>
                <td class="style9">
                    &nbsp;
                </td>
                <td class="style13">
                    <asp:RadioButton ID="rbTidakDisediakan" runat="server" Text="Tidak Disediakan" OnCheckedChanged="rbTidakDisediakan_CheckedChanged"
                        GroupName="Penginapan" />
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Uang Muka
                </td>
                <td class="style13">
                    <asp:UpdatePanel ID="UpdatePanel4" runat="server">
                        <ContentTemplate>
                            <asp:TextBox ID="txtUangMuka" runat="server" Enabled="False" Width="191px"></asp:TextBox>
                            <ajax:FilteredTextBoxExtender ID="txtUangMuka_FilteredTextBoxExtender" runat="server"
                                FilterType="Numbers" TargetControlID="txtUangMuka" ValidChars="1234567890">
                            </ajax:FilteredTextBoxExtender>
                        </ContentTemplate>
                        <Triggers>
                            <asp:AsyncPostBackTrigger ControlID="txtTglKembali" EventName="TextChanged" />
                            <asp:AsyncPostBackTrigger ControlID="txtTglBerangkat" EventName="TextChanged" />
                        </Triggers>
                    </asp:UpdatePanel>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Cost Center Pembebanan
                </td>
                <td align="left">
                    <table>
                        <tr>
                            <td>
                                <dx:ASPxComboBox ID="txtCostCenter" runat="server" DataSourceID="dsCost" DropDownStyle="DropDown"
                                    HorizontalAlign="Left" TextFormatString="{0}" IncrementalFilteringMode="Contains"
                                    TextField="costDesc" ValueField="costDesc" Width="270px">
                                </dx:ASPxComboBox>
                                <asp:LinqDataSource ID="dsCost" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                                    EntityTypeName="" Select="new (costId, costDesc)" TableName="msCosts">
                                </asp:LinqDataSource>
                            </td>
                            <td>
                                -Nama Departemen &nbsp;
                                <asp:Label ID="Label11" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                                <asp:RequiredFieldValidator ID="RequiredFieldValidator5" runat="server" ControlToValidate="txtCostCenter"
                                    ErrorMessage="Harus Diisi" Font-Bold="True" Font-Size="Small" SetFocusOnError="True"
                                    ValidationGroup="a"></asp:RequiredFieldValidator>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Keterangan
                </td>
                <td valign="top">
                    <asp:TextBox ID="txtKeterangan" runat="server" TextMode="MultiLine"></asp:TextBox>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    Revisi
                </td>
                <td valign="top" class="style13">
                    <asp:GridView ID="GridView1" runat="server" AutoGenerateColumns="False" DataSourceID="LinqDSRevisi"
                        HorizontalAlign="Left" Width="174px">
                        <Columns>
                            <asp:BoundField DataField="nrpRevisi" HeaderText="NRP" ReadOnly="True" SortExpression="nrpRevisi" />
                            <asp:BoundField DataField="keteranganRevisi" HeaderText="Alasan Revisi" ReadOnly="True"
                                SortExpression="keteranganRevisi" />
                        </Columns>
                    </asp:GridView>
                </td>
                <td valign="top">
                    <asp:GridView ID="GridView2" runat="server" AutoGenerateColumns="False" DataSourceID="LinqDaSTolak"
                        HorizontalAlign="Left" Width="218px">
                        <Columns>
                            <asp:BoundField DataField="nrpTolak" HeaderText="NRP" ReadOnly="True" SortExpression="nrpTolak" />
                            <asp:BoundField DataField="keteranganTolak" HeaderText="Alasan Ditolak" ReadOnly="True"
                                SortExpression="keteranganTolak" />
                        </Columns>
                    </asp:GridView>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    &nbsp;
                </td>
                <td class="style13">
                    <asp:LinqDataSource ID="LinqDSRevisi" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" Select="new (nrpRevisi, keteranganRevisi)" TableName="trRevisis"
                        Where="noSPD == @noSPD &&( status == @status || status == @status1)" OrderBy="dibuatTanggal desc">
                        <WhereParameters>
                            <asp:ControlParameter ControlID="txtNoSPD" Name="noSPD" PropertyName="Text" Type="String" />
                            <asp:Parameter DefaultValue="8" Name="status" Type="Int32" />
                            <asp:Parameter DefaultValue="9" Name="status1" Type="Int32" />
                        </WhereParameters>
                    </asp:LinqDataSource>
                </td>
                <td class="style9">
                    <asp:LinqDataSource ID="LinqDaSTolak" runat="server" ContextTypeName="eSPD.dsSPDDataContext"
                        EntityTypeName="" Select="new (nrpTolak, keteranganTolak)" TableName="trTolaks"
                        Where="noSPD == @noSPD &&( status == @status || status == @status1)">
                        <WhereParameters>
                            <asp:ControlParameter ControlID="txtNoSPD" Name="noSPD" PropertyName="Text" Type="String" />
                            <asp:Parameter DefaultValue="12" Name="status" Type="Int32" />
                            <asp:Parameter DefaultValue="13" Name="status1" Type="Int32" />
                        </WhereParameters>
                    </asp:LinqDataSource>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    &nbsp;
                </td>
                <td colspan="2">
                    <asp:Label ID="Label12" runat="server" ForeColor="#CC0000" Text="*"></asp:Label>
                    &nbsp;<strong>Kolom Wajib Diisi</strong>
                </td>
            </tr>
            <tr>
                <td class="style9">
                    <asp:HiddenField ID="FLDgamode" runat="server" />
                </td>
                <td colspan="2" rowspan="1">
                    <asp:Button ID="btnSave" runat="server" OnClick="btnSave_Click" Text="Save" ValidationGroup="a" />
                    &nbsp;<asp:Button ID="btnSubmit0" runat="server" Enabled="False" OnClick="btnSubmit0_Click"
                        Text="Submit" ValidationGroup="a" />
                    &nbsp;<asp:Button ID="btnReset0" runat="server" OnClick="btnReset0_Click" Text="Reset" />
                    &nbsp;&nbsp;<asp:Label ID="lblStat" runat="server"></asp:Label>
                </td>
            </tr>
        </table>
    </asp:Panel>
</asp:Content>
